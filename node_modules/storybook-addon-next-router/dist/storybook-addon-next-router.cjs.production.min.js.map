{"version":3,"file":"storybook-addon-next-router.cjs.production.min.js","sources":["../src/index.tsx"],"sourcesContent":["import { action } from '@storybook/addon-actions';\nimport { makeDecorator } from '@storybook/addons';\nimport React from 'react';\nimport Router, { NextRouter } from 'next/router';\nimport { RouterContext } from 'next/dist/next-server/lib/router-context';\n\nexport const withNextRouter = makeDecorator({\n  name: 'NextRouter',\n  parameterName: 'nextRouter',\n  wrapper(getStory, context, settings) {\n    Router.router = {\n      route: '/',\n      pathname: '/',\n      query: {},\n      asPath: '/',\n      push(url, as, options) {\n        action('nextRouter.push')(url, as, options);\n        return Promise.resolve(true);\n      },\n      replace(url, as, options) {\n        action('nextRouter.replace')(url, as, options);\n        return Promise.resolve(true);\n      },\n      reload() {\n        action('nextRouter.reload')();\n      },\n      back() {\n        action('nextRouter.back')();\n      },\n      prefetch(url, asPath, options) {\n        action('nextRouter.prefetch')(url, asPath, options);\n        return Promise.resolve();\n      },\n      beforePopState(cb) {\n        action('nextRouter.beforePopState')(cb);\n      },\n      events: {\n        on(type, handler) {\n          action('nextRouter.events.on')(type, handler);\n        },\n        off(type, handler) {\n          action('nextRouter.events.off')(type, handler);\n        },\n        emit(type) {\n          action('nextRouter.events.emit')(type);\n        },\n      },\n      isFallback: false,\n      ...settings.options,\n      ...settings.parameters,\n    } as typeof Router.router;\n\n    return (\n      <RouterContext.Provider value={Router.router as NextRouter}>\n        {getStory(context)}\n      </RouterContext.Provider>\n    );\n  },\n});\n"],"names":["makeDecorator","name","parameterName","wrapper","getStory","context","settings","Router","router","route","pathname","query","asPath","push","url","as","options","action","Promise","resolve","replace","reload","back","prefetch","beforePopState","cb","events","on","type","handler","off","emit","isFallback","parameters","React","RouterContext","Provider","value"],"mappings":"iiBAM8BA,gBAAc,CAC1CC,KAAM,aACNC,cAAe,aACfC,iBAAQC,EAAUC,EAASC,UACzBC,EAAOC,UACLC,MAAO,IACPC,SAAU,IACVC,MAAO,GACPC,OAAQ,IACRC,cAAKC,EAAKC,EAAIC,UACZC,SAAO,kBAAPA,CAA0BH,EAAKC,EAAIC,GAC5BE,QAAQC,SAAQ,IAEzBC,iBAAQN,EAAKC,EAAIC,UACfC,SAAO,qBAAPA,CAA6BH,EAAKC,EAAIC,GAC/BE,QAAQC,SAAQ,IAEzBE,kBACEJ,SAAO,oBAAPA,IAEFK,gBACEL,SAAO,kBAAPA,IAEFM,kBAAST,EAAKF,EAAQI,UACpBC,SAAO,sBAAPA,CAA8BH,EAAKF,EAAQI,GACpCE,QAAQC,WAEjBK,wBAAeC,GACbR,SAAO,4BAAPA,CAAoCQ,IAEtCC,OAAQ,CACNC,YAAGC,EAAMC,GACPZ,SAAO,uBAAPA,CAA+BW,EAAMC,IAEvCC,aAAIF,EAAMC,GACRZ,SAAO,wBAAPA,CAAgCW,EAAMC,IAExCE,cAAKH,GACHX,SAAO,yBAAPA,CAAiCW,KAGrCI,YAAY,GACT1B,EAASU,QACTV,EAAS2B,YAIZC,gBAACC,gBAAcC,UAASC,MAAO9B,EAAOC,QACnCJ,EAASC"}