{"version":3,"file":"storybook-addon-next-router.esm.js","sources":["../src/index.tsx"],"sourcesContent":["import { action } from '@storybook/addon-actions';\nimport { makeDecorator } from '@storybook/addons';\nimport React from 'react';\nimport Router, { NextRouter } from 'next/router';\nimport { RouterContext } from 'next/dist/next-server/lib/router-context';\n\nexport const withNextRouter = makeDecorator({\n  name: 'NextRouter',\n  parameterName: 'nextRouter',\n  wrapper(getStory, context, settings) {\n    Router.router = {\n      route: '/',\n      pathname: '/',\n      query: {},\n      asPath: '/',\n      push(url, as, options) {\n        action('nextRouter.push')(url, as, options);\n        return Promise.resolve(true);\n      },\n      replace(url, as, options) {\n        action('nextRouter.replace')(url, as, options);\n        return Promise.resolve(true);\n      },\n      reload() {\n        action('nextRouter.reload')();\n      },\n      back() {\n        action('nextRouter.back')();\n      },\n      prefetch(url, asPath, options) {\n        action('nextRouter.prefetch')(url, asPath, options);\n        return Promise.resolve();\n      },\n      beforePopState(cb) {\n        action('nextRouter.beforePopState')(cb);\n      },\n      events: {\n        on(type, handler) {\n          action('nextRouter.events.on')(type, handler);\n        },\n        off(type, handler) {\n          action('nextRouter.events.off')(type, handler);\n        },\n        emit(type) {\n          action('nextRouter.events.emit')(type);\n        },\n      },\n      isFallback: false,\n      ...settings.options,\n      ...settings.parameters,\n    } as typeof Router.router;\n\n    return (\n      <RouterContext.Provider value={Router.router as NextRouter}>\n        {getStory(context)}\n      </RouterContext.Provider>\n    );\n  },\n});\n"],"names":["withNextRouter","makeDecorator","name","parameterName","wrapper","getStory","context","settings","Router","router","route","pathname","query","asPath","push","url","as","options","action","Promise","resolve","replace","reload","back","prefetch","beforePopState","cb","events","on","type","handler","off","emit","isFallback","parameters","React","RouterContext","Provider","value"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;IAMaA,cAAc,gBAAGC,aAAa,CAAC;AAC1CC,EAAAA,IAAI,EAAE,YADoC;AAE1CC,EAAAA,aAAa,EAAE,YAF2B;AAG1CC,EAAAA,OAH0C,mBAGlCC,QAHkC,EAGxBC,OAHwB,EAGfC,QAHe;AAIxCC,IAAAA,MAAM,CAACC,MAAP;AACEC,MAAAA,KAAK,EAAE,GADT;AAEEC,MAAAA,QAAQ,EAAE,GAFZ;AAGEC,MAAAA,KAAK,EAAE,EAHT;AAIEC,MAAAA,MAAM,EAAE,GAJV;AAKEC,MAAAA,IALF,gBAKOC,GALP,EAKYC,EALZ,EAKgBC,OALhB;AAMIC,QAAAA,MAAM,CAAC,iBAAD,CAAN,CAA0BH,GAA1B,EAA+BC,EAA/B,EAAmCC,OAAnC;AACA,eAAOE,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACD,OARH;AASEC,MAAAA,OATF,mBASUN,GATV,EASeC,EATf,EASmBC,OATnB;AAUIC,QAAAA,MAAM,CAAC,oBAAD,CAAN,CAA6BH,GAA7B,EAAkCC,EAAlC,EAAsCC,OAAtC;AACA,eAAOE,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACD,OAZH;AAaEE,MAAAA,MAbF;AAcIJ,QAAAA,MAAM,CAAC,mBAAD,CAAN;AACD,OAfH;AAgBEK,MAAAA,IAhBF;AAiBIL,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACD,OAlBH;AAmBEM,MAAAA,QAnBF,oBAmBWT,GAnBX,EAmBgBF,MAnBhB,EAmBwBI,OAnBxB;AAoBIC,QAAAA,MAAM,CAAC,qBAAD,CAAN,CAA8BH,GAA9B,EAAmCF,MAAnC,EAA2CI,OAA3C;AACA,eAAOE,OAAO,CAACC,OAAR,EAAP;AACD,OAtBH;AAuBEK,MAAAA,cAvBF,0BAuBiBC,EAvBjB;AAwBIR,QAAAA,MAAM,CAAC,2BAAD,CAAN,CAAoCQ,EAApC;AACD,OAzBH;AA0BEC,MAAAA,MAAM,EAAE;AACNC,QAAAA,EADM,cACHC,IADG,EACGC,OADH;AAEJZ,UAAAA,MAAM,CAAC,sBAAD,CAAN,CAA+BW,IAA/B,EAAqCC,OAArC;AACD,SAHK;AAINC,QAAAA,GAJM,eAIFF,IAJE,EAIIC,OAJJ;AAKJZ,UAAAA,MAAM,CAAC,uBAAD,CAAN,CAAgCW,IAAhC,EAAsCC,OAAtC;AACD,SANK;AAONE,QAAAA,IAPM,gBAODH,IAPC;AAQJX,UAAAA,MAAM,CAAC,wBAAD,CAAN,CAAiCW,IAAjC;AACD;AATK,OA1BV;AAqCEI,MAAAA,UAAU,EAAE;AArCd,OAsCK1B,QAAQ,CAACU,OAtCd,EAuCKV,QAAQ,CAAC2B,UAvCd;AA0CA,WACEC,mBAAA,CAACC,aAAa,CAACC,QAAf;AAAwBC,MAAAA,KAAK,EAAE9B,MAAM,CAACC;KAAtC,EACGJ,QAAQ,CAACC,OAAD,CADX,CADF;AAKD;AAnDyC,CAAD;;;;"}